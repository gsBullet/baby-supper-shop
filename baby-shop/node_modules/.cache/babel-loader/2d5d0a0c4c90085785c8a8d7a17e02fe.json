{"ast":null,"code":"let headers = {};\nconst token = window.localStorage.getItem('token');\n\nif (token) {\n  headers.authorization = 'Bearer ' + token;\n}\n\nconst port = Process.env.REACT_APP_SERVER_PORT; // const port = 3002;\n\nconst urlBase = 'http://localhost:' + port + '/api';\n\nconst httpRequest = async function (url) {\n  let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n  let body = arguments.length > 2 ? arguments[2] : undefined;\n  let header = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  if (header) {\n    headers = { ...headers,\n      ...header\n    };\n  }\n\n  const request = await fetch(`${urlBase}${url}`, {\n    method,\n    headers,\n    body\n  });\n  let response = await request.json(); // console.log(response);\n\n  return response;\n};\n\nexport default httpRequest;","map":{"version":3,"names":["headers","token","window","localStorage","getItem","authorization","port","Process","env","REACT_APP_SERVER_PORT","urlBase","httpRequest","url","method","body","header","request","fetch","response","json"],"sources":["G:/LEARNING WEB/episode-45-main/baby-shop/src/hooks/httpRequest.js"],"sourcesContent":["let headers = {}\r\nconst token = window.localStorage.getItem('token');\r\nif (token) {\r\n    headers.authorization = 'Bearer ' + token;\r\n}\r\n\r\nconst port = Process.env.REACT_APP_SERVER_PORT;\r\n// const port = 3002;\r\nconst urlBase = 'http://localhost:'+port + '/api';\r\n\r\nconst httpRequest = async (url,method=\"GET\", body, header = null) => {\r\n    if(header){\r\n        headers = {...headers,...header}\r\n    }\r\n    const request = await fetch(`${urlBase}${url}`, {\r\n        method,\r\n        headers,\r\n        body\r\n    });\r\n    let response = await request.json();\r\n    // console.log(response);\r\n    return response;\r\n\r\n}\r\nexport default httpRequest;"],"mappings":"AAAA,IAAIA,OAAO,GAAG,EAAd;AACA,MAAMC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAd;;AACA,IAAIH,KAAJ,EAAW;EACPD,OAAO,CAACK,aAAR,GAAwB,YAAYJ,KAApC;AACH;;AAED,MAAMK,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,qBAAzB,C,CACA;;AACA,MAAMC,OAAO,GAAG,sBAAoBJ,IAApB,GAA2B,MAA3C;;AAEA,MAAMK,WAAW,GAAG,gBAAOC,GAAP,EAAiD;EAAA,IAAtCC,MAAsC,uEAA/B,KAA+B;EAAA,IAAxBC,IAAwB;EAAA,IAAlBC,MAAkB,uEAAT,IAAS;;EACjE,IAAGA,MAAH,EAAU;IACNf,OAAO,GAAG,EAAC,GAAGA,OAAJ;MAAY,GAAGe;IAAf,CAAV;EACH;;EACD,MAAMC,OAAO,GAAG,MAAMC,KAAK,CAAE,GAAEP,OAAQ,GAAEE,GAAI,EAAlB,EAAqB;IAC5CC,MAD4C;IAE5Cb,OAF4C;IAG5Cc;EAH4C,CAArB,CAA3B;EAKA,IAAII,QAAQ,GAAG,MAAMF,OAAO,CAACG,IAAR,EAArB,CATiE,CAUjE;;EACA,OAAOD,QAAP;AAEH,CAbD;;AAcA,eAAeP,WAAf"},"metadata":{},"sourceType":"module"}